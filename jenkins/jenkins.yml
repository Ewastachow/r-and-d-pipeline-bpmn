jenkins:
  systemMessage: "Jenkins configured automatically by Jenkins Configuration as Code plugin\n\n"
  authorizationStrategy:
    roleBased:
      roles:
        global:
          - name: "admin"
            description: "Jenkins administrators"
            permissions:
              - "Overall/Administer"
            assignments:
              - "admin"
          - name: "readonly"
            description: "Read-only users"
            permissions:
              - "Overall/Read"
              - "Job/Read"
            assignments:
              - "authenticated"
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "admin"
          password: "admin"
  clouds:
    - docker:
        dockerApi:
          dockerHost:
            uri: "unix://var/run/docker.sock"
        name: "docker"
        templates:
          - labelString: "deploy"
            name: "jnlp"
            dockerTemplateBase:
              image: "jenkins/jnlp-slave:alpine"
            pullStrategy: PULL_LATEST
            remoteFs: "/home/jenkins"
            connector: attach
unclassified:
  location:
    url: "http://127.0.0.1:9080/"
  shell:
    shell: "/bin/bash"
tool:
  maven:
    installations:
      - name: "maven3"
        properties:
          - installSource:
              installers:
                - maven:
                    id: "3.6.3"
  jdk:
    installations:
      - name: jdk8
        properties:
          - installSource:
              installers:
                - jdkInstaller:
                    id: "jdk-8u181-oth-JPR"
                    acceptLicense: true
jobs:
  - script: >
      multibranchPipelineJob('r-and-d-pipeline-bpmn') {
        branchSources {
          git {
            id = 'r-and-d-pipeline-bpmn'
            remote('https://github.com/Ewastachow/r-and-d-pipeline-bpmn.git')
          }
        }
        scriptPath 'r-and-d-service/.jenkins/Jenkinsfile.groovy'
      }
